$buildDir=build/arm
if: $IS_RPI != true
  $buildDir=build/x86

########################################## AUDIO PLUGINS ##########################################

include: pixel_audio.cfg

########################################## CONTROLLERS ##########################################

PLUGIN_CONTROLLER: MidiEncoder ./plugins/controllers/$buildDir/libzic_MidiEncoderController.so
  DEVICE: Arduino Leonardo:Arduino Leonardo MIDI 1
  ENCODER_TARGET: 7 0
  ENCODER_TARGET: 6 1
  ENCODER_TARGET: 5 2
  ENCODER_TARGET: 4 3
  ENCODER_TARGET: 3 4
  ENCODER_TARGET: 2 5
  ENCODER_TARGET: 1 6
  ENCODER_TARGET: 0 7

########################################## UI ##########################################

# Add window position for SDL emulator
WINDOW_POSITION: 400 500

$1/4W=$SCREEN_WIDTH/4
$1/2W=$1/4W*2
$3/4W=$1/4W*3

print: $1/4W $1/2W $3/4W $SCREEN_WIDTH

# Add encoder for SDL emulator
ADD_ZONE_ENCODER: 0 0 $1/4W $SCREEN_HEIGHT
ADD_ZONE_ENCODER: $1/4W 0 $1/4W $SCREEN_HEIGHT
ADD_ZONE_ENCODER: $1/2W 0 $1/4W $SCREEN_HEIGHT
ADD_ZONE_ENCODER: $3/4W 0 $1/4W $SCREEN_HEIGHT

VIEW: Main

$track=1

  COMPONENT: DrumEnvelop 0 0 $3/4W 50
    TRACK: $track
    PLUGIN: SynthDrum23
    ENVELOP_DATA_ID: 0

  COMPONENT: Encoder2 $3/4W 0 $1/4W 50
    ENCODER_ID: 3
    COLOR: secondary
    TRACK: $track
    VALUE: SynthDrum23 DURATION


# TODO use freq envelope
  COMPONENT: DrumEnvelop 0 60 $3/4W 50
    TRACK: $track
    PLUGIN: SynthDrum23
    ENVELOP_DATA_ID: 0

# TODO activate encoder with arrow up/down
  COMPONENT: Encoder2 $3/4W 60 $1/4W 50
    # ENCODER_ID: 3
    COLOR: secondary
    TRACK: $track
    VALUE: SynthDrum23 PITCH

# only active row has color
# other rows are gray out

  COMPONENT: KeyInfoBar 0 216
    KEYMAP: Keyboard 20 item 0
    KEYMAP: Keyboard 26 item 1
    KEYMAP: Keyboard 8 item 2
    KEYMAP: Keyboard 21 item 3
    KEYMAP: Keyboard 23 item 4
    KEYMAP: Keyboard 4 item 5
    KEYMAP: Keyboard 22 item 6
    KEYMAP: Keyboard 7 item 7
    KEYMAP: Keyboard 9 item 8
    KEYMAP: Keyboard 10 item 9
